<openerp>
	<data>

		<record model="ir.ui.view" id="sale_view_order_form_inherit">
			<field name="name">sale.view.order.form.inherit</field>
			<field name="model">sale.order</field>
			<field name="inherit_id" ref="sale.view_order_form"/>
			<field name="arch" type="xml">
				<xpath expr="/form/sheet/notebook/page[1]/field[@name='order_line']/tree/field[@name='product_id']"
						position="attributes">
					<attribute name="options">{'no_create': 1}</attribute>
				</xpath>
			</field>
		</record>

		<record model="ir.ui.view" id="view_order_form_inherit">
			<field name="name">sale.order.form.inherit</field>
			<field name="model">sale.order</field>
			<field name="inherit_id" ref="purchase_sale_discount.view_order_form_inherit"/>
			<field name="arch" type="xml">
				<field name="partner_id" position="before">
					<field name="employee_id"/>
				</field>
				<field name="partner_id" position="after">
					<field name="commission_total" readonly="1"/>
					<field name="bon_number" on_change="onchange_bon_number(bon_number, date_order)"
							attrs="{'readonly': [('state','in',['manual','shipping_except','invoice_except','done'])]}"/>
				</field>
				<field name="date_order" position="before">
					<field name="create_uid" readonly="1"/>
					<field name="stock_location_id" readonly="1"/>
				</field>
				<xpath expr="//page[@string='Order Lines']" position="after">
					<page string="Payment Method">
						<group name="method_cash" col="4">
							<field name="is_cash"/>
							<field name="cash_amount" attrs="{'invisible': [('is_cash','=',False)],'required': [('is_cash','=',False)]}"/>
							<field name="is_transfer"/>
							<field name="transfer_amount" attrs="{'invisible': [('is_transfer','=',False)],'required': [('is_transfer','=',False)]}"/>
							<field name="is_edc"/>
							<field name="edc_amount" attrs="{'invisible': [('is_edc','=',False)],'required': [('is_edc','=',False)]}"/>
							<field name="edc_id" attrs="{'invisible': [('is_edc','=',False)]}"/>
							<field name="approval_code" attrs="{'invisible': [('is_edc','=',False)]}"/>
							<field name="card_fee" attrs="{'invisible': [('is_edc','=',False)]}"/>
							<field name="card_fee_amount" readonly="1" attrs="{'invisible': [('is_edc','=',False)]}"/>
						</group>
					</page>
				</xpath>
				<field name="user_id" position="attributes">
					<attribute name="invisible">1</attribute>
				</field>
				<xpath expr="//field[@name='order_line']/tree//field[@name='discount']" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>
				<xpath expr="//field[@name='order_line']/tree//field[@name='discount_string']" position="after">
					<field name="commission" invisible="1"/>
					<field name="commission_amount" invisible="1"/>
					<field name="uom_category_filter_id" invisible="1"/>
				</xpath>
				<xpath expr="//field[@name='order_line']/tree//field[@name='product_uom']" position="attributes">
					<attribute name="domain">[('category_id','=', uom_category_filter_id)]</attribute>
				</xpath>
				<xpath expr="//field[@name='order_line']/tree//field[@name='name']" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>
				<xpath expr="//field[@name='order_line']/tree//field[@name='tax_id']" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>
			</field>
		</record>

		<record id="view_order_tree_inherit" model="ir.ui.view">
			<field name="name">sale.order.tree.inherit</field>
			<field name="model">sale.order</field>
			<field name="inherit_id" ref="sale.view_order_tree"/>
			<field name="arch" type="xml">
				<field name="amount_total" position="before">
					<field name="commission_total"/>
				</field>
			</field>
		</record>

		<record model="ir.ui.view" id="sale_order_filter_inherit">
			<field name="name">sale.order.list.select.inherit</field>
			<field name="model">sale.order</field>
			<field name="inherit_id" ref="sale.view_sales_order_filter"/>
			<field name="arch" type="xml">
				<field name="name" position="after">
					<field name="bon_number" string="Bon Number"/>
				</field>
			</field>
		</record>
	</data>
</openerp>
