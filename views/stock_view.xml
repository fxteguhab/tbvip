<openerp>
	<data>
		<record id="stock_bonus_usage_form" model="ir.ui.view">
			<field name="name">stock.bonus.usage.form</field>
			<field name="model">stock.bonus.usage</field>
			<field name="arch" type="xml">
				<form string="Stock Bonus Usage" version="7.0">
					<header>
						<button name="action_approve" class="oe_highlight" string="Approve" type="object" states="draft" confirm="Are you sure to approve this bonus usage?"/>
						<button name="action_reject" string="Reject" type="object" states="draft" confirm="Are you sure to reject this bonus usage?" />
						<field name="state" widget="statusbar" readonly="1" />
					</header>
					<sheet>
						<group col="4">
							<group>
								<field name="name"/>
								<field name="move_from_id"/>
							</group>
							<group>
								<field name="usage_date"/>
								<field name="usage_by_id"/>
							</group>
						</group>
						<field name="bonus_usage_line_ids">
							<tree editable="bottom">
								<field name="product_id" on_change="onchange_product_id(product_id)"
										domain="[('is_sup_bonus', '=', True)]" options="{'no_create': 1}"/>
								<field name="qty"/>
								<field name="uom_id" on_change="onchange_uom_id(uom_id, product_id)"/>
							</tree>
						</field>
					</sheet>
				</form>
			</field>
		</record>

		<record id="stock_bonus_usage_tree" model="ir.ui.view">
			<field name="name">stock.bonus.usage.tree</field>
			<field name="model">stock.bonus.usage</field>
			<field name="arch" type="xml">
				<tree>
					<field name="name"/>
					<field name="usage_date"/>
					<field name="usage_by_id"/>
					<field name="move_from_id"/>
				</tree>
			</field>
		</record>

		<record model="ir.ui.view" id="stock_picking_form_inherit">
			<field name="name">stock.picking.form.inherit</field>
			<field name="model">stock.picking</field>
			<field name="inherit_id" ref="stock.view_picking_form"/>
			<field name="arch" type="xml">
				<button name="action_cancel" position="after">
					<button name="print_delivery_order" string="" type="object" icon="gtk-print"/>
				</button>
			</field>
		</record>

		<record model="ir.ui.view" id="stock_location_form_inherit">
			<field name="name">stock.location.form.inherit</field>
			<field name="model">stock.location</field>
			<field name="inherit_id" ref="stock.view_location_form"/>
			<field name="arch" type="xml">
				<field name="partner_id" position="before">
					<field name="is_branch"/>
					<!--<field name="branch_id" attrs="{'required': [('is_branch','=',True)], 'invisible': [('is_branch','!=',True)]}" />-->
				</field>
			</field>
		</record>

		<record id="stock_inventory_form_inherit" model="ir.ui.view">
			<field name="name">stock.inventory.form</field>
			<field name="model">stock.inventory</field>
			<field name="inherit_id" ref="stock.view_inventory_form" />
			<field name="arch" type="xml">
				<button name="action_cancel_draft" position="after">
					<button name="print_stock_inventory" string="" type="object" icon="gtk-print"/>
				</button>
				<field name="theoretical_qty" position="after">
					<field name="sublocation" readonly="True"/>
				</field>
			</field>
		</record>

		<record id="stock_opname_inject_tree_inherit" model="ir.ui.view">
			<field name="name">stock.opname.inject.tree.inherit</field>
			<field name="model">stock.opname.inject</field>
			<field name="inherit_id" ref="stock_opname.stock_opname_inject_tree"/>
			<field name="arch" type="xml">
				<field name="location_id" position="replace">
					<field name="location_id" domain="[('is_branch', '=', True)]"/>
				</field>
			</field>
		</record>

		<record id="view_inventory_filter_inherit" model="ir.ui.view">
			<field name="name">stock.inventory.filter.inherit</field>
			<field name="model">stock.inventory</field>
			<field name="inherit_id" ref="stock.view_inventory_filter"/>
			<field name="arch" type="xml">
				<group string="Group By" position="inside">
					<filter string="Month" name="filter_month_inventory_adjustment" context="{'group_by':'date:month'}"/>
					<!-- TEGUH@20180405: add group by week & today -->
					<filter string="Week" name="filter_week_inventory_adjustment" context="{'group_by':'date:week'}"/>
					<filter string="Day"  name="filter_day_inventory_adjustment" context="{'group_by':'date:day'}"/>
					<filter string="Today" domain="[('date', '&gt;=', datetime.datetime.now().strftime('%Y-%m-%d 00:00:00')),('date', '&lt;=', datetime.datetime.now().strftime('%Y-%m-%d 23:23:59'))]"/>
				</group>
				<!-- TEGUH@20180405: add group by created by & employee -->
				<group string="Group By" position="after">
					<group string="Group By HR">
						<filter string="Created By" name="create_uid" domain="[]" context="{'group_by': 'create_uid'}"/>
                        <filter string="Employee" name="employee_id" domain="[]" context="{'group_by': 'employee_id'}"/>
					</group>
				</group>
			</field>
		</record>

		<record id="stock_stock_check_form" model="ir.ui.view">
			<field name="name">stock.stock.check.form</field>
			<field name="model">stock.check.memory</field>
			<field name="arch" type="xml">
				<form version="7.0" no_save="1">
					<field name="check_line">
						<tree editable="bottom">
							<field name="product_id" on_change="onchange_product_id(product_id)"/>
							<field name="stock_info" readonly="True"/>
						</tree>
					</field>
				</form>
			</field>
		</record>

		<record id="stock_sublocation_form" model="ir.ui.view">
			<field name="name">stock.sublocation.form</field>
			<field name="model">stock.sublocation</field>
			<field name="arch" type="xml">
				<form>
					<group>
						<field name="name"/>
						<field name="full_name" readonly="True"/>
						<field name="type"/>
						<field name="parent_id"/>
						<field name="child_ids">
							<tree editable="bottom">
								<field name="name"/>
								<field name="type"/>
							</tree>
						</field>
					</group>
				</form>
			</field>
		</record>

		<record id="stock_sublocation_tree" model="ir.ui.view">
			<field name="name">stock.sublocation.tree</field>
			<field name="model">stock.sublocation</field>
			<field name="arch" type="xml">
				<tree>
					<field name="name"/>
					<field name="type"/>
					<field name="parent_id"/>
				</tree>
			</field>
		</record>


		<!-- TEGUH@20180405 : bikin inherit stok.view_inventory_tree -->
		<record id="view_inventory_tree_inherit" model="ir.ui.view">
			<field name="name">stock.inventory.tree.inherit</field>
			<field name="model">stock.inventory</field>
			<field name="inherit_id" ref="stock.view_inventory_tree"/>
			<field name="arch" type="xml">
				<field name="state" position="after">
					<field name="line_ids" string="Line(s)"/>
					<field name="total_qty" string="Total Qty"/>
					<field name="employee_id"/>
					<field name="create_uid"/>
				</field>
				<xpath expr="//tree[1]" position="attributes">
					<attribute name="colors">red:total_qty &gt;= 100;blue:total_qty &gt;= 50 and total_qty &lt; 100</attribute>
				</xpath>
			</field>
		</record>

	</data>
</openerp>
