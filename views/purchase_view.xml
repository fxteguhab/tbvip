<openerp>
	<data>
		<record model="ir.ui.view" id="purchase_order_form_inherit">
			<field name="name">purchase.order.form.inherit</field>
			<field name="model">purchase.order</field>
			<field name="priority">17</field>
			<field name="inherit_id" ref="purchase.purchase_order_form"/>
			<field name="arch" type="xml">
				<field name="partner_id" position="before">
					<field name="employee_id"/>
					<field name="branch_id"/>
				</field>
				<field name="picking_type_id" position="replace">
					<field name="picking_type_id" invisible="1" on_change="onchange_picking_type_id(picking_type_id, context)" domain="[('code','=','incoming')]" options="{'no_create': True}" groups="stock.group_locations"/>
				</field>
				<field name="price_unit" position="attributes">
					<attribute name="on_change">onchange_order_line(product_qty, price_unit, discount_string, product_uom, product_id, discount_from_subtotal)</attribute>
				</field>
				<field name="date_order" position="before">
					<field name="create_uid" readonly="1"/>
				</field>
				<xpath expr="//label[@string='Request for Quotation ']" position="attributes">
					<attribute name="string">Draft Purchase Order</attribute>
				</xpath>
				<xpath expr="//field[@name='product_uom']" position="attributes">
					<attribute name="string">UoM</attribute>
				</xpath>
				<xpath expr="//field[@name='price_subtotal']" position="after">
					<field name="source" readonly="1" />
				</xpath>
				<field name="picking_type_id" position="before">
					<field name="shipped_or_taken"/>
				</field>
				<xpath expr="//field[@name='order_line']/tree//field[@name='name']" position="replace">
					<field name="name" invisible="1"/>
				</xpath>
				<field name="source" position="replace">
					<field name="source" invisible="1"/>
				</field>
				<field name="product_id" position="replace">
					<field name="product_id"
							options="{'no_create': 1}"
							on_change="onchange_product_id(parent.pricelist_id,product_id,product_qty,product_uom,parent.partner_id,
							parent.date_order,parent.fiscal_position,date_planned,False,False,parent.state,
							parent.price_type_id, price_type_id, context)"/>
				</field>
				<field name="product_uom" position="replace">
					<field name="uom_category_filter_id" invisible="True"/>
					<field name="product_uom"
							domain="[('category_id','=', uom_category_filter_id)]"
							on_change="onchange_product_id(parent.pricelist_id,product_id,product_qty,product_uom,parent.partner_id,
							parent.date_order,parent.fiscal_position,date_planned,False,False,parent.state,
							parent.price_type_id, price_type_id, context)"/>
				</field>
				<field name="product_qty" position="replace">
					<field name="product_qty"
							on_change=""/>
				</field>
			</field>
		</record>

		<record model="ir.ui.view" id="purchase_order_tree_inherit">
			<field name="name">purchase.order.tree.inherit</field>
			<field name="model">purchase.order</field>
			<field name="inherit_id" ref="purchase.purchase_order_tree"/>
			<field name="arch" type="xml">
				<field name="state" position="before">
					<field name="branch_id"/>
				</field>
			</field>
		</record>

		<record id="purchase.purchase_rfq" model="ir.actions.act_window">
			<field name="name">Draft Purchase Orders</field>
		</record>

	</data>
</openerp>
