<openerp>
	<data>

		<!-- RULE -->
		<record model="ir.ui.view" id="tbvip_demand_form">
			<field name="name">tbvip.demand.form</field>
			<field name="model">tbvip.demand</field>
			<field name="arch" type="xml">
				<form string="Rule" version="7.0">
					<header>
						<button name="action_set_wait" string="Set to Wait" type="object" states="requested"
								class="oe_highlight" confirm="Are you sure to set this demand to Waiting for Supplier?"/>
						<button name="action_set_ready" string="Set to Ready" type="object" states="requested,waiting_for_supplier"
								class="oe_highlight" confirm="Are you sure to set this demand to Ready for Transfer?"/>
						<button name="action_cancel" string="Cancel" type="object"
								states="requested,waiting_for_supplier,ready_for_transfer"
								confirm="Are you sure to cancel this demand?"/>
					</header>
					<group col="4">
						<group>
							<field name="request_date"/>
							<field name="branch_id"/>
							<field name="demand_type" readonly="1"/>
							<field name="state" readonly="1"/>
							<field name="sale_order_id" readonly="1"
									attrs="{'invisible': [('demand_type','!=','different_management')]}"/>
						</group>
						<group>
							<field name="cancel_by" readonly="1"/>
							<field name="cancel_time" readonly="1"/>
							<field name="cancel_reason" readonly="1"/>
						</group>
					</group>
					<field name="demand_line_ids">
						<tree editable="bottom">
							<field name="product_id" on_change="onchange_product_id(product_id)"/>
							<field name="qty"/>
							<field name="uom_id"/>
						</tree>
					</field>
				</form>
			</field>
		</record>

		<record model="ir.ui.view" id="tbvip_demand_tree">
			<field name="name">tbvip.demand.tree</field>
			<field name="model">tbvip.demand</field>
			<field name="arch" type="xml">
				<tree string="Rule" version="7.0">
					<field name="request_date"/>
					<field name="branch_id"/>
					<field name="demand_type" readonly="1"/>
					<field name="state" readonly="1"/>
					<field name="sale_order_id"/>
				</tree>
			</field>
		</record>

	</data>
</openerp>